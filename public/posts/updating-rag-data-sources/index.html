<!DOCTYPE html>
<html lang="en-us">

<head>
  
  <meta charset="utf-8">



<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    <meta name="description" content="Updating RAG Data Sources: A Comprehensive Guide to Ensuring Your Chatbot Remains Informed Retrieval-Augmented Generation (RAG) chatbots are valuable tools for providing users with relevant and up-to-date information. However, as the world evolves and data in your document sources (PDF, HTML, Word, Text) changes over time, it&rsquo;s crucial to have a robust strategy in place for updating these vectors so that your RAG chatbot can continue delivering accurate responses. In this blog post, we will discuss various strategies for updating RAG data sources, including using transactional data stores, batch update processes, and implementing a Change Data Capture (CDC) approach.">
  


<meta name="color-scheme" content="light dark">







<meta name="generator" content="Hugo 0.121.2">
  <title>Updating RAG Data Sources | AI Dungeons - Everything I learned about AI</title>
  <link rel="canonical" href="https://ai.dungeons.ca/posts/updating-rag-data-sources/">


  <link rel="icon" href="/favicon.ico" type="image/x-icon">



  








  
    
  
  
  <link rel="stylesheet" href="/css/base.min.ee1d0b98bb68d9e71b2feee16bec52548b2bc0c3f58301d404729345cf0788e3.css" integrity="sha256-7h0LmLto2ecbL&#43;7ha&#43;xSVIsrwMP1gwHUBHKTRc8HiOM=" crossorigin="anonymous">



</head>

<body>
  <nav class="u-background">
  <div class="u-wrapper">
    <ul class="Banner">
      <li class="Banner-item Banner-item--title">
        <h1 class="Banner-heading">
          <a class="Banner-link u-clickable" href="/">AI Dungeons - Everything I learned about AI</a>
        </h1>
      </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/about/">About</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/posts/">Posts</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/tags/">Tags</a>
        </li>
      
    </ul>
  </div>
</nav>

  <main>
    <div class="u-wrapper">
      <div class="u-padding">
        

  <article>
    <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/" rel="bookmark">Updating RAG Data Sources</a>
  </h2>
  
    <time datetime="2024-01-18T00:00:00Z">18 January, 2024</time>
  
</header>
    <h1 id="updating-rag-data-sources-a-comprehensive-guide-to-ensuring-your-chatbot-remains-informed">
  <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/#updating-rag-data-sources-a-comprehensive-guide-to-ensuring-your-chatbot-remains-informed">Updating RAG Data Sources: A Comprehensive Guide to Ensuring Your Chatbot Remains Informed</a>
</h1>
<p>Retrieval-Augmented Generation (RAG) chatbots are valuable tools for providing users with relevant and up-to-date information. However, as the world evolves and data in your document sources (PDF, HTML, Word, Text) changes over time, it&rsquo;s crucial to have a robust strategy in place for updating these vectors so that your RAG chatbot can continue delivering accurate responses. In this blog post, we will discuss various strategies for updating RAG data sources, including using transactional data stores, batch update processes, and implementing a Change Data Capture (CDC) approach.</p>
<h2 id="utilizing-transactional-data-stores">
  <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/#utilizing-transactional-data-stores">Utilizing Transactional Data Stores</a>
</h2>
<p>One of the most effective ways to manage updates in your RAG chatbot&rsquo;s data sources is by chunking documents into a transactional data store, such as LangChain or LLamaIndex. This allows you to replace chunks when they are updated while also tracking important metrics about their performance, including how often they are queried and the number of positive/negative responses they receive from users.</p>
<h3 id="chunking-application">
  <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/#chunking-application">Chunking Application</a>
</h3>
<p>When implementing a chunking application, it&rsquo;s essential to consider real-time edits in your Content Management System (CMS) system. This will enable you to make corrections to poor or incorrect responses promptly and ensure that your chatbot provides accurate information at all times.</p>
<h3 id="batch-update-strategy">
  <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/#batch-update-strategy">Batch Update Strategy</a>
</h3>
<p>An efficient way to keep your RAG data sources up-to-date is by employing a batch update strategy, either through a timer-based system or by detecting changes in the documents themselves. This method may not be the most immediate, but it ensures that your chatbot always has access to current information.</p>
<h3 id="change-data-capture-cdc-and-triggers">
  <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/#change-data-capture-cdc-and-triggers">Change Data Capture (CDC) and Triggers</a>
</h3>
<p>To stay informed about updates in your data sources, you can also leverage Change Data Capture (CDC), which involves monitoring changes within your database and triggering actions based on those modifications. One example of how this works is VectorStreaM, an open-source tool developed by Patrick Walton that enables real-time vector updates in MongoDB Atlas.</p>
<h2 id="conclusion-plan-for-updates-to-ensure-solid-responses">
  <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/#conclusion-plan-for-updates-to-ensure-solid-responses">Conclusion: Plan for Updates to Ensure Solid Responses</a>
</h2>
<p>In summary, developing a plan for updating RAG data sources is essential for maintaining the accuracy and reliability of your chatbot&rsquo;s responses. By utilizing transactional data stores, employing batch update strategies, and leveraging CDC techniques, you can ensure that your chatbot remains well-informed and ready to assist users with up-to-date information.</p>
<ul>
<li>Human Intervention: None</li>
</ul>
<h3 id="facts-used">
  <a class="Heading-link u-clickable" href="/posts/updating-rag-data-sources/#facts-used">Facts Used:</a>
</h3>
<ul>
<li>Data in your document sources (PDF, HTML, Word, Text) will change over time.  You should have a strategy for updating your vector embeddings so your RAG (retrieval augmented generation) chatbot can talk about up to date information</li>
<li>Consider a process of chunking your documents into a transactional data store (using langchain or llamaindex), so you can replace chunks if they are updated.  This also lets you store metrics about the chunks performance, such as how often it’s queried.  You can also track how many times the chunk had  a positive or negative response if you implement user provided thumbs up/down on your chatbot responses.</li>
<li>A batch update strategy is recommended, either on a timer or when you detect changes to the documents.  This is not super efficient, but it’ll ensure you have up to date knowledge in your chatbot</li>
<li>If you build a CMS system on top of your text/knowledge chunks you can edit them in real time to correct poor or incorrect responses from the chatbot.</li>
<li>Also consider that you need to run updated chunks through your text embedding models, so you have updated dense vectors in your vector search engine.  This can be done using CDC (change data detection) and triggers or as part of your chunking application.  VectorStream (<a href="https://github.com/patw/VectorStream">https://github.com/patw/VectorStream</a>) is an example of how to do this in MongoDB Atlas</li>
<li>Call to action:  Make sure you have a plan in place for updating the knowledge your chatbot has, so it’s always giving solid responses.</li>
</ul>

    


  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/categories/ai/" rel="tag">AI</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/tags/rag/" rel="tag">RAG</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/tags/chatbot/" rel="tag"> Chatbot</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/tags/data-sources/" rel="tag"> Data Sources</a>
            </li>
          
        </ul>
      
    
  </footer>

    
  

  </article>


      </div>
    </div>
  </main>
  
  <footer class="Footer">
    <div class="u-wrapper">
      <div class="u-padding u-noboosting">
        Copyright 2024 Pat Wendorf (pat.wendorf@mongodb.com)
      </div>
    </div>
  </footer>

</body>

</html>
